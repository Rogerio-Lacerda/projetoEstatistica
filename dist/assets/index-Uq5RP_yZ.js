(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function t(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?a.credentials="include":e.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(e){if(e.ep)return;e.ep=!0;const a=t(e);fetch(e.href,a)}})();function f(r){let o=0,t=0,s=0,e=0,a=0,n=0,i=0;const d=r.reduce((l,c)=>{switch(c.getDay()){case 0:o+=1;break;case 1:t+=1;break;case 2:s+=1;break;case 3:e+=1;break;case 4:a+=1;break;case 5:n+=1;break;case 6:i+=1;break}return{domingo:o,segunda:t,terca:s,quarta:e,quinta:a,sexta:n,sabado:i}},{domingo:o,segunda:t,terca:s,quarta:e,quinta:a,sexta:n,sabado:i}),u=Object.entries(d).reduce((l,c)=>l[1]>c[1]?l:c,["",0]);return{vendasPorDias:d,diaComMaisVendas:u}}function p(r){let o=0,t=0;return r.reduce((e,a)=>(a==="Boleto"&&(o+=1),a==="Cartão de Crédito"&&(t+=1),[["Boleto",o],["Cartão de Crédito",t]]),[["",0]])}function g(r){const o=document.querySelector(".estatisticas"),t=document.querySelector(".formasPagamento"),s=document.querySelector(".statusPagamento"),e=document.querySelector(".dados tbody");o&&t&&s&&e&&(o.innerHTML+=`<p>Total: ${r.valorTotal.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}</p>`,t.innerHTML=r.formasPagamento.map(a=>`<p>${a[0]}: ${a[1]}`).join(""),s.innerHTML=r.statusPagamento.map(a=>`<p>${a[0]}: ${a[1]}</p>`).join(""),s.innerHTML+=`<p>Dia com mais vendas: ${r.vendas[0]}</p>`,e.innerHTML=r.estatistica.map(a=>`<tr>
                <td>${a.nome}</td>
                <td>${a.email}</td>
                <td>${a.valor.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}</td>
                <td>${a.formaPagamento}</td>
                <td>${a.status}</td>
              </tr>`).join(""))}function v(r){return`${r.split(" ")[0].split("/").reverse().join("-")}T${r.split(" ")[1]}`}function y(r){return r==="-"?0:Number(r.replace(".","").replace(",","."))}function L(r){return r.map(t=>({status:t.Status,id:t.ID,data:new Date(v(t.Data)),nome:t.Nome,formaPagamento:t["Forma de Pagamento"],email:t.Email,valor:y(t["Valor (R$)"]),clienteNovo:t["Cliente Novo"]}))}function P(r){return r.reduce((t,s)=>t+s,0)}function $(r){let o=0,t=0,s=0,e=0;return r.reduce((n,i)=>(i==="Paga"?o+=1:i==="Recusada pela operadora de cartão"?t+=1:i==="Aguardando pagamento"?s+=1:i==="Estornada"&&(e+=1),[["Paga",o],["Recusada pela operadora de cartão",t],["Aguardando pagamento",s],["Estornada",e]]),[["",0]])}function m(r){const{json:o,error:t,load:s}=r,e=document.querySelector(".load"),a=document.querySelector(".error");if(a instanceof HTMLElement&&(a.innerText=`${t}`),e&&a&&(s&&(e.classList.add("active"),a.classList.remove("active")),t&&(e.classList.remove("active"),a.classList.add("active")),o&&o instanceof Array)){a.classList.remove("active"),e.classList.remove("active");const n=L(o),i=P(n.map(c=>c.valor)),d=p(n.map(c=>c.formaPagamento)),u=$(n.map(c=>c.status)),l=f(n.map(c=>c.data));g({estatistica:n,valorTotal:i,formasPagamento:d,statusPagamento:u,vendas:l.diaComMaisVendas})}}const E="https://api.origamid.dev/json/transacoes.json";async function b(){let r,o=null,t=null,s=!1;try{if(s=!0,m({json:o,error:t,load:s}),r=await fetch(E),o=await r.json(),!r.json)throw new Error(o.message)}catch(e){o=null,e&&e instanceof Error?t=`Error: ${e.message}`:t="Error: erro ao fazer requisição"}finally{s=!1,m({json:o,error:t,load:s})}}b();
